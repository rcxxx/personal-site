---
id: 数组中重复的数字
title: 数组中重复的数字（一）
sidebar_label: 面试题3-1
---

## 题目一：找出数组中重复的数字

**在一个长度为n的数组里的所有数字都在 `0 ~ n-1` 的范围内。数组中某些数字是重复的，但不知道有几个数字重复了，也不知道每个数字重复了几次。请找出数组中任意一个重复的数字**

- 例如，输入长度为7的数组 `{2, 3, 1, 0, 2, 5, 3}` ，那么对应的输出是重复的数字2或者3

## 题解
- 思路一

先把输入的数组排序，再从排序后的数组中找出重复的数字，排序一个长度为 n 的数组需要 `O(nlogn)` 的时间

- 思路二

利用哈希表来解决这个问题，从头到尾扫描排序后的数组，扫描到数组中的每一个数字时，可以用 `O(1)` 的时间判断哈希表中有没有这个数字，如果表中没有这个数字，就把它加入表中，如果有则证明数字重复，这个算法的时间复杂度是 `O(n)` ，但是提高的时间效率是以一个大小为 `O(n)` 的哈希表为代价的

- 思路三

根据题意，数组中的数字都在 `0~n-1` 的范围内，假设数组中不存在重复的数字，当数组排序之后，数字 `i` 将出现在下标为 `i` 的位置。由于数组可能存在重复的数字，有些位置可能有多个数字，而有的地方可能为空

可以来重新排列这个数组，遍历这个数组，遍历到下标为 `i` 的数字时，判断这个数字 `m` 是否与 `i` 相等，如果相等则继续往后遍历；如果不相等，则比较它和下标为 `m` 的数字是否相等，如果相等，就找到了重复的数字，如果不相等，就把下标为 `i` 的数字和下标为 `m` 的数字交换位置，把 `m` 放到正确的位置。重复这个过程，直到找到重复的数字

实现这个思路的代码

``` cpp
bool duplicate(int numbers[], int length, int* duplication)
{
    if(numbers == nullptr || length <= 0)
    {
        return false;
    }

    for(int i = 0; i < length; ++i)
    {
        if(numbers[i] < 0 || numbers[i] > length - 1)
        {
            return false;
        }
    }

    for(int i = 0; i < length; ++i)
    {
        while(numbers[i] != i){
            if(numbers[i] == numbers[numbers[i]])
            {
                *duplication = numbers[i];
                return true;
            }

            // 交换 numbers[i] 和 numbers[numbers[i]]
            int temp = numbers[i];
            numbers[i] = numbers[temp];
            numbers[temp] = temp;
        }
    }

    return false;
}
```

代码中，找到的重复的数字会通过 `duplication` 传给函数的调用者，返回值则表示数组中是否有重复的数字，存在返回 `true` ，不存在则返回 `false`

虽说程序中有两层循环，但每个数字只需要交换两次就能找到它的位置，所以总的时间复杂度时 `O(n)` ，而且所有操作都是在输入的数组中进行的，空间复杂度为 `O(1)` 

## 测试用例

- 长度为 n 的数组里包含一个或多个重复的数字

- 数组中不包含重复的数字

- 无效输入（空指针、包含 `0~n-1` 范围外地数字）

## 总结

- 考察对一维数组的理解以及编程能力，一维数组在内存中占连续的存储空间，可以根据下标定位对应元素
- 考察分析问题的能力，问题较复杂时，能否通过例子找出其中的规律
